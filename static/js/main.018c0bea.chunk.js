(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,a){e.exports=a(11)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,l,o=a(0),r=a.n(o),c=a(3),m=a.n(c),i=(a(9),a(1)),s=function(e){var t=e.name,a=e.text,n=e.children;return r.a.createElement("li",{className:"Input"},t&&r.a.createElement("h5",null,t),r.a.createElement("code",null,n),a&&r.a.createElement("p",null,a))};!function(e){e.UEFI="UEFI",e.BIOS="BIOS"}(n||(n={})),function(e){e.AMD="AMD",e.INTEL="Intel"}(l||(l={}));var u=function(e){var t=e.processor,a=e.firmware,l=e.hostname,o=e.username,c=e.partitionDevice,m=e.partitionBoot,i=e.partitionRoot,u=a===n.UEFI,E=["base","base-devel"],d=["spotify"];return u&&(E.push("".concat(t.toLowerCase(),"\u2011ucode")),d.push("systemd-boot-pacman-hook")),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Pre-installation (live environment)"),r.a.createElement("ol",null,r.a.createElement(s,{name:"Set keyboard layout"},"loadkeys dk"),u&&r.a.createElement(s,{name:"Verify EFI boot mode",text:"If the directory does not exist, you need to find a way to reboot into EFI boot\r mode"},"ls /sys/firmware/efi/efivars"),r.a.createElement(s,{name:"Update system clock"},"timedatectl set-ntp true"),r.a.createElement(s,{name:"Partition the disks",text:"Example: ".concat(m," EFI partition 550 MiB, ").concat(i," linux partition remaining space")},u?"gdisk":"fdisk"," ",c),u&&r.a.createElement(s,{name:"Format EFI partition"},"mkfs.fat -F32 ",m),r.a.createElement(s,{name:"Format root partition",text:"Use whatever file system you wish"},"mkfs.btrfs ",i),r.a.createElement(s,{name:"Mount root file system"},"mount ",i," /mnt"),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s,{name:"Create EFI mount point"},"mkdir /mnt/boot"),r.a.createElement(s,{name:"Mount EFI file system"},"mount ",m," /mnt/boot"))),r.a.createElement("h3",null,"Installation"),r.a.createElement("ol",null,r.a.createElement(s,{name:"Install pacman tools"},"pacman -Syu pacman-contrib"),r.a.createElement(s,{text:"This monster fetches nearby mirrors, ranks them and persists them in config (which will also be copied over during the following command). It takes a while, grab a coffee. If you dare, this is a shortened url: https://1n.pm/mirrorlist"},"curl -s \"https://www.archlinux.org/mirrorlist/?country=DK&country=DE&country=NL&country=SE&protocol=https&ip_version=4&ip_version=6&use_mirror_status=on\" | sed -e 's/^#Server/Server/' -e '/^#/d' | rankmirrors -n 5 - > /etc/pacman.d/mirrorlist"),r.a.createElement(s,{name:"Install base packages"},"pacstrap /mnt ",E.join(" "))),r.a.createElement("h3",null,"Configuration"),r.a.createElement("ol",null,r.a.createElement(s,{name:"Generate fstab file"},"genfstab -U /mnt >> /mnt/etc/fstab"),r.a.createElement(s,{name:"Change root into new system"},"arch-chroot /mnt"),r.a.createElement(s,{name:"Set root password"},"passwd")),r.a.createElement("h4",null,"Localization"),r.a.createElement("ol",null,r.a.createElement(s,{name:"Set the time zone"},"ln -sf /usr/share/zoneinfo/Europe/Copenhagen /etc/localtime"),r.a.createElement(s,{name:"Write software UTC time to hardware"},"hwclock --systohc"),r.a.createElement(s,{name:"Uncomment locales to generate"},"nano /etc/locale.gen",r.a.createElement("pre",null,r.a.createElement("code",null,"en_DK.UTF-8 UTF-8\nen_US.UTF-8 UTF-8"))),r.a.createElement(s,{name:"Generate locales"},"locale-gen"),r.a.createElement(s,{name:"Set LANG"},"echo 'LANG=en_DK.UTF-8' > /etc/locale.conf"),r.a.createElement(s,{name:"Persist keymap"},"echo 'KEYMAP=dk' > /etc/vconsole.conf"))," ",r.a.createElement("h4",null,"Networking"),r.a.createElement("ol",null,r.a.createElement(s,{name:"Set hostname"},"echo '",l,"' > /etc/hostname"),r.a.createElement(s,{name:"Configure hosts file"},"nano /etc/hosts",r.a.createElement("pre",null,r.a.createElement("code",null,"127.0.0.1\tlocalhost\n::1\t\tlocalhost")))),r.a.createElement("h4",null,"Bootloader"),u?r.a.createElement("ol",null,r.a.createElement(s,{name:"Install bootloader"},"bootctl install"),r.a.createElement(s,{name:"Configure bootloader",text:"You can also edit /boot/loader/loader.conf to increase timeout if you are dual booting-windows (otherwise you will boot directly to linux)"},"nano /boot/loader/entries/arch.conf",r.a.createElement("pre",null,r.a.createElement("code",null,"title Arch Linux\nlinux /vmlinuz-linux\ninitrd /".concat(t.toLowerCase(),"-ucode.img\ninitrd /initramfs-linux.img\noptions root=").concat(i," rw")))),r.a.createElement("h4",null,"Reboot into new system"),r.a.createElement(s,{name:"Leave chroot"},"exit"),r.a.createElement(s,{name:"Unmount and reboot"},"umount -R /mnt && reboot")):r.a.createElement("ol",null,r.a.createElement(s,{name:"Install GRUB"},"pacman -Syu grub"),r.a.createElement(s,{name:"Install bootloader"},"grub install --target=i386-pc ",c),r.a.createElement(s,{name:"Configure bootloader"},"grub-mkconfig -o /boot/grub/grub.cfg"),r.a.createElement("h4",null,"Reboot into new system"),r.a.createElement(s,{name:"Leave chroot"},"exit"),r.a.createElement(s,{name:"Unmount and reboot"},"umount -R /mnt && reboot")),r.a.createElement("h3",null,"Userspace setup"),r.a.createElement("ol",null,r.a.createElement(s,{name:"Create regular user",text:"wheel is for sudo, audio is for audio"},"useradd --create-home --groups audio,wheel ",o),r.a.createElement(s,{name:"Set user password"},"passwd ",o),r.a.createElement(s,{name:"Enable sudo for wheel group"},"visudo"),r.a.createElement(s,{name:"Change to regular user"},"su ",o)),r.a.createElement("h4",null,"Install aurman"),r.a.createElement("ol",null,r.a.createElement(s,null,"curl -L -O https://aur.archlinux.org/cgit/aur.git/snapshot/aurman.tar.gz"),r.a.createElement(s,{name:"Import GnuPG key"},"gpg --recv-keys ","465022E743D71E39"),r.a.createElement(s,{name:"Unpack"},"tar -xvf aurman.tar.gz"),r.a.createElement(s,null,"cd aurman"),r.a.createElement(s,{name:"Compile and install"},"makepkg -si")),r.a.createElement("h4",null,"Install important AUR packages"),r.a.createElement("ol",null,r.a.createElement(s,{text:u&&"IMPORTANT: the bootctl update hook is needed to ensure microcode updates"},"aurman -Syu ",d.join(" "))),r.a.createElement("h4",null,"Install all the good shit"),r.a.createElement("ol",null,r.a.createElement(s,null,"sudo pacman -Syu docker docker-compose openssh termite unzip ...")))},E=function(e){var t=e.name,a=e.options,n=e.value,l=e.onChange,o=function(e){return l(e.target.value)};return r.a.createElement(r.a.Fragment,null,Object.values(a).map(function(e){return r.a.createElement("label",{key:e},r.a.createElement("input",{type:"radio",name:t,value:e,checked:e===n,onChange:o})," ".concat(e))}))},d=function(){var e=Object(o.useState)(l.AMD),t=Object(i.a)(e,2),a=t[0],c=t[1],m=Object(o.useState)(n.UEFI),s=Object(i.a)(m,2),d=s[0],p=s[1],h=Object(o.useState)("zach"),b=Object(i.a)(h,2),f=b[0],g=b[1],v=Object(o.useState)("ballz-pc"),w=Object(i.a)(v,2),y=w[0],k=w[1],I=Object(o.useState)("/dev/sdX"),x=Object(i.a)(I,2),F=x[0],S=x[1],U=Object(o.useState)("/dev/sdX1"),O=Object(i.a)(U,2),C=O[0],j=O[1],B=Object(o.useState)("/dev/sdX2"),D=Object(i.a)(B,2),L=D[0],A=[{label:"Username",name:"username",value:f,setValue:g},{label:"Hostname",name:"hostname",value:y,setValue:k},{label:"Partition Device",name:"partition_device",value:F,setValue:S},{label:"Partition Root",name:"partition_root",value:L,setValue:D[1]}],R=d===n.UEFI;return R&&A.push({label:"Partition Boot",name:"partition_boot",value:C,setValue:j}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"controls",style:{marginBottom:"2rem"}},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement(E,{name:"firmware",options:n,value:d,onChange:p})),R&&r.a.createElement("li",null,r.a.createElement(E,{name:"processor",options:l,value:a,onChange:c})),A.map(function(e){var t=e.label,a=e.name,n=e.value,l=e.setValue;return r.a.createElement("li",{key:a},r.a.createElement("label",null,t,r.a.createElement("input",{key:a,name:a,type:"text",value:n,onChange:function(e){return l(e.target.value)}})))}))),r.a.createElement("h1",null,"Installation cheatsheet"),r.a.createElement("div",{className:"App"},r.a.createElement(u,{firmware:d,processor:a,username:f,hostname:y,partitionDevice:F,partitionBoot:C,partitionRoot:L})))};a(10),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(r.a.createElement(function(){return r.a.createElement(d,null)},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[4,1,2]]]);
//# sourceMappingURL=main.018c0bea.chunk.js.map