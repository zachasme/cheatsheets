(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(3),r=a.n(o),c=(a(12),a(4)),m=a(5),s=a(1),i=(a(14),function(e){var t=e.name,a=e.text,n=e.children;return l.a.createElement("li",{className:"Input"},t&&l.a.createElement("h5",null,t),l.a.createElement("code",null,n),a&&l.a.createElement("p",null,a))}),u=function(e){var t=e.processor,a=e.hostname,n=e.username,o=e.partition_device,r=e.partition_efi,c=e.partition_root;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Pre-installation (live environment)"),l.a.createElement("ol",null,l.a.createElement(i,{name:"Set keyboard layout"},"loadkeys dk"),l.a.createElement(i,{name:"Verify EFI boot mode",text:"If the directory does not exist, you need to find a way to reboot into EFI boot mode"},"ls /sys/firmware/efi/efivars"),l.a.createElement(i,{name:"Update system clock"},"timedatectl set-ntp true"),l.a.createElement(i,{name:"Partition the disks",text:"Example: ".concat(r," EFI partition 550 MiB, ").concat(c," linux partition remaining space")},"gdisk ",o),l.a.createElement(i,{name:"Format EFI partition"},"mkfs.fat -F32 ",r),l.a.createElement(i,{name:"Format root partition",text:"Use whatever file system you wish"},"mkfs.btrfs ",c),l.a.createElement(i,{name:"Mount root file system"},"mount ",c," /mnt"),l.a.createElement(i,{name:"Create EFI mount point"},"mkdir /mnt/boot"),l.a.createElement(i,{name:"Mount EFI file system"},"mount ",r," /mnt/boot")),l.a.createElement("h3",null,"Installation"),l.a.createElement("ol",null,l.a.createElement(i,{name:"Install pacman tools"},"pacman -S pacman-contrib"),l.a.createElement(i,{text:"This monster fetches nearby mirrors, ranks them and persists them in config (which will also be copied over during the following command). It takes a while, grab a coffee."},"curl -s \"https://www.archlinux.org/mirrorlist/?country=DK&country=DE&country=NL&country=SE&protocol=https&ip_version=4&ip_version=6&use_mirror_status=on\" | sed -e 's/^#Server/Server/' -e '/^#/d' | rankmirrors -n 5 - > /etc/pacman.d/mirrorlist"),l.a.createElement(i,{name:"Install base packages"},"pacstrap /mnt base base-devel ",t,"-ucode")),l.a.createElement("h3",null,"Configuration"),l.a.createElement("ol",null,l.a.createElement(i,{name:"Generate fstab file"},"genfstab -U /mnt >> /mnt/etc/fstab"),l.a.createElement(i,{name:"Change root into new system"},"arch-chroot /mnt")),l.a.createElement("h4",null,"Localization"),l.a.createElement("ol",null,l.a.createElement(i,{name:"Set the time zone"},"ln -sf /usr/share/zoneinfo/Europe/Copenhagen /etc/localtime"),l.a.createElement(i,{name:"Write software UTC time to hardware"},"hwclock --systohc"),l.a.createElement(i,{name:"Uncomment locales to generate"},"nano /etc/locale.gen",l.a.createElement("pre",null,l.a.createElement("code",null,"en_DK.UTF-8 UTF-8\nen_US.UTF-8 UTF-8"))),l.a.createElement(i,{name:"Generate locales"},"locale-gen"),l.a.createElement(i,{name:"Set LANG"},"echo 'LANG=en_DK.UTF-8' > /etc/locale.conf"),l.a.createElement(i,{name:"Persist keymap"},"echo 'KEYMAP=dk' > /etc/vconsole.conf"))," ",l.a.createElement("h4",null,"Networking"),l.a.createElement("ol",null,l.a.createElement(i,{name:"Set hostname"},"echo '",a,"' > /etc/hostname"),l.a.createElement(i,{name:"Configure hosts file"},"nano /etc/hosts",l.a.createElement("pre",null,l.a.createElement("code",null,"127.0.0.1\tlocalhost\n::1\t\tlocalhost")))),l.a.createElement("h4",null,"Password & bootloader"),l.a.createElement("ol",null,l.a.createElement(i,{name:"Set root password"},"passwd"),l.a.createElement(i,{name:"Install bootloader"},"bootctl install"),l.a.createElement(i,{name:"Configure bootloader",text:"You can also edit /boot/loader/loader.conf to increase timeout if you are dual booting-windows (otherwise you will boot directly to linux)"},"nano /boot/loader/entries/arch.conf",l.a.createElement("pre",null,l.a.createElement("code",null,"title Arch Linux\nlinux /vmlinuz-linux\ninitrd /".concat(t,"-ucode.img\ninitrd /initramfs-linux.img\noptions root=").concat(c," rw")))),l.a.createElement(i,{name:"Reboot into new system"},"exit && umount -R /mnt && reboot")),l.a.createElement("h3",null,"Userspace setup"),l.a.createElement("ol",null,l.a.createElement(i,{name:"Create regular user",text:"wheel is for sudo, audio is for audio"},"useradd --create-home --groups audio wheel ",n),l.a.createElement(i,{name:"Set user password"},"passwd ",n),l.a.createElement(i,{name:"Enable sudo for wheel group"},"visudo"),l.a.createElement(i,{name:"Change to regular user"},"su ",n)),l.a.createElement("h4",null,"Install aurman"),l.a.createElement("ol",null,l.a.createElement(i,null,"curl -L -O https://aur.archlinux.org/cgit/aur.git/snapshot/aurman.tar.gz"),l.a.createElement(i,{name:"Import GnuPG key"},"gpg --recv-keys ","465022E743D71E39"),l.a.createElement(i,{name:"Unpack"},"tar -xvf aurman.tar.gz"),l.a.createElement(i,null,"cd aurman"),l.a.createElement(i,{name:"Compile and install"},"makepkg -si")),l.a.createElement("h4",null,"Install important AUR packages"),l.a.createElement("ol",null,l.a.createElement(i,{name:"IMPORTANT: bootctl update hook"},"aurman -Syu systemd-boot-pacman-hook")),l.a.createElement("h4",null,"Install all the good shit"),l.a.createElement("ol",null,l.a.createElement(i,null,"sudo pacman -Syu docker docker-compose openssh termite unzip ...")))},E=function(){var e=Object(n.useState)("amd"),t=Object(s.a)(e,2),a=t[0],o=t[1],r={username:Object(n.useState)("zach"),hostname:Object(n.useState)("ballz-pc"),partition_device:Object(n.useState)("/dev/sdX"),partition_efi:Object(n.useState)("/dev/sdX1"),partition_root:Object(n.useState)("/dev/sdX2")};function i(e){o(e.target.value)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"controls",style:{marginBottom:"2rem"}},l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"processor",value:"intel",checked:"intel"===a,onChange:i})," ","Intel"),l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"processor",value:"amd",checked:"amd"===a,onChange:i})," ","AMD"),Object.entries(r).map(function(e){var t=Object(s.a)(e,2),a=t[0],n=Object(s.a)(t[1],2),o=n[0],r=n[1];return l.a.createElement("input",{key:a,type:"text",value:o,onChange:function(e){return r(e.target.value)}})})),l.a.createElement("h1",null,"Installation cheatsheet"),l.a.createElement("div",{className:"App"},l.a.createElement(u,Object.assign({processor:a},Object.assign.apply(Object,Object(m.a)(Object.entries(r).map(function(e){var t=Object(s.a)(e,2),a=t[0],n=Object(s.a)(t[1],1)[0];return Object(c.a)({},a,n)})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,t,a){e.exports=a(16)}},[[6,2,1]]]);
//# sourceMappingURL=main.ed8568ab.chunk.js.map