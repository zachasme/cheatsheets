(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(38)},16:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){var n={"./en.po":[39,3]};function o(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],o=t[0];return a.e(t[1]).then(function(){return a.t(o,7)})}o.keys=function(){return Object.keys(n)},o.id=37,e.exports=o},38:function(e,t,a){"use strict";a.r(t);var n,o,r=a(0),l=a.n(r),c=a(7),m=a.n(c),i=(a(16),a(3)),s=a.n(i),u=a(8),E=a(2),p=a(9),d=a(1),h=function(e){var t=e.name,a=e.text,n=e.children;return l.a.createElement("li",{className:"Input"},t&&l.a.createElement("h5",null,t),l.a.createElement("code",null,n),a&&l.a.createElement("p",null,a))};!function(e){e.UEFI="UEFI",e.BIOS="BIOS"}(n||(n={})),function(e){e.AMD="AMD",e.INTEL="Intel"}(o||(o={}));var f=function(e){var t=e.processor,a=e.firmware,o=e.hostname,r=e.username,c=e.partitionDevice,m=e.partitionBoot,i=e.partitionRoot,s=a===n.UEFI,u=["base","base-devel"],E=["spotify"];return s&&(u.push("".concat(t.toLowerCase(),"\u2011ucode")),E.push("systemd-boot-pacman-hook")),l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Pre-installation (live environment)"),l.a.createElement("ol",null,l.a.createElement(h,{name:"Set keyboard layout"},"loadkeys dk"),s&&l.a.createElement(h,{name:"Verify EFI boot mode",text:"If the directory does not exist, you need to find a way to reboot into EFI boot mode"},"ls /sys/firmware/efi/efivars"),l.a.createElement(h,{name:"Update system clock"},"timedatectl set-ntp true"),l.a.createElement(h,{name:"Partition the disks",text:"Example: ".concat(m," EFI partition 550 MiB, ").concat(i," linux partition remaining space")},s?"gdisk":"fdisk"," ",c),s&&l.a.createElement(h,{name:"Format EFI partition"},"mkfs.fat -F32 ",m),l.a.createElement(h,{name:"Format root partition",text:"Use whatever file system you wish"},"mkfs.btrfs ",i),l.a.createElement(h,{name:"Mount root file system"},"mount ",i," /mnt"),s&&l.a.createElement(l.a.Fragment,null,l.a.createElement(h,{name:"Create EFI mount point"},"mkdir /mnt/boot"),l.a.createElement(h,{name:"Mount EFI file system"},"mount ",m," /mnt/boot"))),l.a.createElement("h3",null,"Installation"),l.a.createElement("ol",null,l.a.createElement(h,{name:"Install pacman tools"},"pacman -Syu pacman-contrib"),l.a.createElement(h,{text:"This monster fetches nearby mirrors, ranks them and persists them in config (which will also be copied over during the following command). It takes a while, grab a coffee. If you dare, this is a shortened url: https://1n.pm/mirrorlist"},"curl -s \"https://www.archlinux.org/mirrorlist/?country=DK&country=DE&country=NL&country=SE&protocol=https&ip_version=4&ip_version=6&use_mirror_status=on\" | sed -e 's/^#Server/Server/' -e '/^#/d' | rankmirrors -n 5 - > /etc/pacman.d/mirrorlist"),l.a.createElement(h,{name:"Install base packages"},"pacstrap /mnt ",u.join(" "))),l.a.createElement("h3",null,"Configuration"),l.a.createElement("ol",null,l.a.createElement(h,{name:"Generate fstab file"},"genfstab -U /mnt >> /mnt/etc/fstab"),l.a.createElement(h,{name:"Change root into new system"},"arch-chroot /mnt"),l.a.createElement(h,{name:"Set root password"},"passwd")),l.a.createElement("h4",null,"Localization"),l.a.createElement("ol",null,l.a.createElement(h,{name:"Set the time zone"},"ln -sf /usr/share/zoneinfo/Europe/Copenhagen /etc/localtime"),l.a.createElement(h,{name:"Write software UTC time to hardware"},"hwclock --systohc"),l.a.createElement(h,{name:"Uncomment locales to generate"},"nano /etc/locale.gen",l.a.createElement("pre",null,l.a.createElement("code",null,"en_DK.UTF-8 UTF-8\nen_US.UTF-8 UTF-8"))),l.a.createElement(h,{name:"Generate locales"},"locale-gen"),l.a.createElement(h,{name:"Set LANG"},"echo 'LANG=en_DK.UTF-8' > /etc/locale.conf"),l.a.createElement(h,{name:"Persist keymap"},"echo 'KEYMAP=dk' > /etc/vconsole.conf"))," ",l.a.createElement("h4",null,"Networking"),l.a.createElement("ol",null,l.a.createElement(h,{name:"Set hostname"},"echo '",o,"' > /etc/hostname"),l.a.createElement(h,{name:"Configure hosts file"},"nano /etc/hosts",l.a.createElement("pre",null,l.a.createElement("code",null,"127.0.0.1\tlocalhost\n::1\t\tlocalhost")))),l.a.createElement("h4",null,"Bootloader"),s?l.a.createElement("ol",null,l.a.createElement(h,{name:"Install bootloader"},"bootctl install"),l.a.createElement(h,{name:"Configure bootloader",text:"You can also edit /boot/loader/loader.conf to increase timeout if you are dual booting-windows (otherwise you will boot directly to linux)"},"nano /boot/loader/entries/arch.conf",l.a.createElement("pre",null,l.a.createElement("code",null,"title Arch Linux\nlinux /vmlinuz-linux\ninitrd /".concat(t.toLowerCase(),"-ucode.img\ninitrd /initramfs-linux.img\noptions root=").concat(i," rw")))),l.a.createElement("h4",null,"Reboot into new system"),l.a.createElement(h,{name:"Leave chroot"},"exit"),l.a.createElement(h,{name:"Unmount and reboot"},"umount -R /mnt && reboot")):l.a.createElement("ol",null,l.a.createElement(h,{name:"Install GRUB"},"pacman -Syu grub"),l.a.createElement(h,{name:"Install bootloader"},"grub install --target=i386-pc ",c),l.a.createElement(h,{name:"Configure bootloader"},"grub-mkconfig -o /boot/grub/grub.cfg"),l.a.createElement("h4",null,"Reboot into new system"),l.a.createElement(h,{name:"Leave chroot"},"exit"),l.a.createElement(h,{name:"Unmount and reboot"},"umount -R /mnt && reboot")),l.a.createElement("h3",null,"Userspace setup"),l.a.createElement("ol",null,l.a.createElement(h,{name:"Create regular user",text:"wheel is for sudo, audio is for audio"},"useradd --create-home --groups audio,wheel ",r),l.a.createElement(h,{name:"Set user password"},"passwd ",r),l.a.createElement(h,{name:"Enable sudo for wheel group"},"visudo"),l.a.createElement(h,{name:"Change to regular user"},"su ",r)),l.a.createElement("h4",null,"Install aurman"),l.a.createElement("ol",null,l.a.createElement(h,null,"curl -L -O https://aur.archlinux.org/cgit/aur.git/snapshot/aurman.tar.gz"),l.a.createElement(h,{name:"Import GnuPG key"},"gpg --recv-keys ","465022E743D71E39"),l.a.createElement(h,{name:"Unpack"},"tar -xvf aurman.tar.gz"),l.a.createElement(h,null,"cd aurman"),l.a.createElement(h,{name:"Compile and install"},"makepkg -si")),l.a.createElement("h4",null,"Install important AUR packages"),l.a.createElement("ol",null,l.a.createElement(h,{text:s&&"IMPORTANT: the bootctl update hook is needed to ensure microcode updates"},"aurman -Syu ",E.join(" "))),l.a.createElement("h4",null,"Install all the good shit"),l.a.createElement("ol",null,l.a.createElement(h,null,"sudo pacman -Syu docker docker-compose openssh termite unzip ...")))},b=function(e){var t=e.name,a=e.options,n=e.value,o=e.onChange,r=function(e){return o(e.target.value)};return l.a.createElement(l.a.Fragment,null,Object.values(a).map(function(e){return l.a.createElement("label",{key:e},l.a.createElement("input",{type:"radio",name:t,value:e,checked:e===n,onChange:r})," ".concat(e))}))},g=function(){var e=Object(r.useState)(o.AMD),t=Object(d.a)(e,2),a=t[0],c=t[1],m=Object(r.useState)(n.UEFI),i=Object(d.a)(m,2),s=i[0],u=i[1],E=Object(r.useState)("zach"),p=Object(d.a)(E,2),h=p[0],g=p[1],v=Object(r.useState)("ballz-pc"),w=Object(d.a)(v,2),y=w[0],k=w[1],I=Object(r.useState)("/dev/sdX"),x=Object(d.a)(I,2),U=x[0],F=x[1],O=Object(r.useState)("/dev/sdX1"),S=Object(d.a)(O,2),j=S[0],C=S[1],D=Object(r.useState)("/dev/sdX2"),L=Object(d.a)(D,2),_=L[0],B=[{label:"Username",name:"username",value:h,setValue:g},{label:"Hostname",name:"hostname",value:y,setValue:k},{label:"Partition Device",name:"partition_device",value:U,setValue:F},{label:"Partition Root",name:"partition_root",value:_,setValue:L[1]}],N=s===n.UEFI;return N&&B.push({label:"Partition Boot",name:"partition_boot",value:j,setValue:C}),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"controls",style:{marginBottom:"2rem"}},l.a.createElement("ol",null,l.a.createElement("li",null,l.a.createElement(b,{name:"firmware",options:n,value:s,onChange:u})),N&&l.a.createElement("li",null,l.a.createElement(b,{name:"processor",options:o,value:a,onChange:c})),B.map(function(e){var t=e.label,a=e.name,n=e.value,o=e.setValue;return l.a.createElement("li",{key:a},l.a.createElement("label",null,t,l.a.createElement("input",{key:a,name:a,type:"text",value:n,onChange:function(e){return o(e.target.value)}})))}))),l.a.createElement("h1",null,"Installation cheatsheet"),l.a.createElement("div",{className:"App"},l.a.createElement(f,{firmware:s,processor:a,username:h,hostname:y,partitionDevice:U,partitionBoot:j,partitionRoot:_})))};a(36);function v(){return(v=Object(u.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(37)("./".concat(t,".po"));case 2:n=e.sent,E.i18n.load(t,n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}E.i18n.on("activate",function(e){return v.apply(this,arguments)}),E.i18n.activate("en");Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(l.a.createElement(function(){return l.a.createElement(p.I18nProvider,{i18n:E.i18n},l.a.createElement(g,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.845a8b14.chunk.js.map