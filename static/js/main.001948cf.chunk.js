(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a(11)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,l,o,r,c,m=a(0),i=a.n(m),s=a(3),u=a.n(s),E=(a(9),a(1)),h=function(e){var t=e.name,a=e.text,n=e.children,l=Object(m.useState)(!1),o=Object(E.a)(l,2),r=o[0],c=o[1];return i.a.createElement("li",{className:"Input ".concat(r&&"checked"),onClick:function(){return c((function(e){return!e}))}},t&&i.a.createElement("h5",null,t),i.a.createElement("code",null,n),a&&i.a.createElement("p",null,a))};!function(e){e.UEFI="UEFI",e.BIOS="BIOS"}(n||(n={})),function(e){e.AMD="AMD",e.INTEL="Intel"}(l||(l={})),function(e){e.VIM="vim",e.NANO="nano"}(o||(o={})),function(e){e.EXT4="ext4",e.BTRFS="btrfs"}(r||(r={})),function(e){e.LINUX="linux",e.LINUX_LTS="linux-lts",e.LINUX_HARDENED="linux-hardened",e.LINUX_ZEN="linux-zen"}(c||(c={}));var d=function(e){var t=e.editor,a=e.kernel,l=e.fileSystem,o=e.processor,r=e.firmware,c=e.hostname,m=e.username,s=e.partitionDevice,u=e.partitionBoot,E=e.partitionRoot,d=r===n.UEFI,p=[a,t,"base","base-devel"],g=[];return d&&(p.push("".concat(o.toLowerCase(),"\u2011ucode")),g.push("systemd-boot-pacman-hook")),i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Pre-installation (live environment)"),i.a.createElement("ol",null,i.a.createElement(h,{name:"Set keyboard layout"},"loadkeys dk"),d&&i.a.createElement(h,{name:"Verify EFI boot mode",text:"If the directory does not exist, you need to find a way to reboot into EFI boot mode"},"ls /sys/firmware/efi/efivars"),i.a.createElement(h,{name:"Update system clock"},"timedatectl set-ntp true"),i.a.createElement(h,{name:"Partition the disks",text:"Example: ".concat(u," EFI partition 550 MiB, ").concat(E," ").concat(a," partition remaining space")},d?"gdisk":"fdisk"," ",s),d&&i.a.createElement(h,{name:"Format EFI partition",text:"IMPORTANT: Refer to the wiki if you are dual booting, formatting your EFI partition will most likely make Windows unbootable"},"mkfs.fat -F32 ",u),i.a.createElement(h,{name:"Format root partition"},"mkfs.",l," ",E),i.a.createElement(h,{name:"Mount root file system"},"mount ",E," /mnt"),d&&i.a.createElement(i.a.Fragment,null,i.a.createElement(h,{name:"Create EFI mount point"},"mkdir /mnt/boot"),i.a.createElement(h,{name:"Mount EFI file system"},"mount ",u," /mnt/boot"))),i.a.createElement("h3",null,"Installation"),i.a.createElement("ol",null,i.a.createElement(h,{name:"Choose download mirrors",text:"The higher a mirror is placed in the list, the more priority it is given when downloading a package. You may want to edit the file accordingly, and move the geographically closest mirrors to the top of the list, although other criteria should be taken into account. This file will later be copied to the new system by pacstrap, so it is worth getting right. "},t," /etc/pacman.d/mirrorlist"),i.a.createElement(h,{name:"Install base packages",text:"NOTE: If you are fucked, it might help to install linux-firmware"},"pacstrap /mnt ",p.join(" "))),i.a.createElement("h3",null,"Configuration"),i.a.createElement("ol",null,i.a.createElement(h,{name:"Generate fstab file"},"genfstab -U /mnt >> /mnt/etc/fstab"),i.a.createElement(h,{name:"Change root into new system"},"arch-chroot /mnt"),i.a.createElement(h,{name:"Set root password"},"passwd"),i.a.createElement(h,{name:"Set default editor"},"echo 'EDITOR=",t,"' >> /etc/environment")),i.a.createElement("h4",null,"Localization"),i.a.createElement("ol",null,i.a.createElement(h,{name:"Set the time zone"},"ln -sf /usr/share/zoneinfo/Europe/Copenhagen /etc/localtime"),i.a.createElement(h,{name:"Write software UTC time to hardware"},"hwclock --systohc"),i.a.createElement(h,{name:"Uncomment locales to generate"},t," /etc/locale.gen",i.a.createElement("pre",null,i.a.createElement("code",null,"en_DK.UTF-8 UTF-8\nen_US.UTF-8 UTF-8"))),i.a.createElement(h,{name:"Generate locales"},"locale-gen"),i.a.createElement(h,{name:"Set LANG"},"echo 'LANG=en_DK.UTF-8' > /etc/locale.conf"),i.a.createElement(h,{name:"Persist keymap"},"echo 'KEYMAP=dk' > /etc/vconsole.conf"))," ",i.a.createElement("h4",null,"Networking"),i.a.createElement("ol",null,i.a.createElement(h,{name:"Set hostname"},"echo '",c,"' > /etc/hostname"),i.a.createElement(h,{name:"Configure hosts file"},t," /etc/hosts",i.a.createElement("pre",null,i.a.createElement("code",null,"127.0.0.1\tlocalhost\n::1\t\tlocalhost")))),i.a.createElement("h4",null,"Bootloader"),d?i.a.createElement("ol",null,i.a.createElement(h,{name:"Install bootloader"},"bootctl install"),i.a.createElement(h,{name:"Read UUID of root partition",text:"You will need this for the next step"},"lsblk -dno UUID ",E),i.a.createElement(h,{name:"Configure bootloader",text:"You can also edit /boot/loader/loader.conf to increase timeout if you are dual booting-windows (otherwise you will boot directly to linux)"},t," /boot/loader/entries/arch.conf",i.a.createElement("pre",null,i.a.createElement("code",null,"title Arch Linux (".concat(a,")\nlinux /vmlinuz-").concat(a,"\ninitrd /").concat(o.toLowerCase(),"-ucode.img\ninitrd /initramfs-").concat(a,'.img\noptions root="UUID=put-here-the-uuid-you-got-above" rw')))),i.a.createElement("h4",null,"Reboot into new system"),i.a.createElement(h,{name:"Leave chroot"},"exit"),i.a.createElement(h,{name:"Unmount and reboot"},"umount -R /mnt && reboot")):i.a.createElement("ol",null,i.a.createElement(h,{name:"Install GRUB"},"pacman -Syu grub"),i.a.createElement(h,{name:"Install bootloader"},"grub install --target=i386-pc ",s),i.a.createElement(h,{name:"Configure bootloader"},"grub-mkconfig -o /boot/grub/grub.cfg"),i.a.createElement("h4",null,"Reboot into new system"),i.a.createElement(h,{name:"Leave chroot"},"exit"),i.a.createElement(h,{name:"Unmount and reboot"},"umount -R /mnt && reboot")),i.a.createElement("h3",null,"Userspace setup"),i.a.createElement("ol",null,i.a.createElement(h,{name:"Create regular user",text:"The `wheel` group is for sudo"},"useradd --create-home --groups wheel ",m),i.a.createElement(h,{name:"Set user password"},"passwd ",m),i.a.createElement(h,{name:"Enable sudo for wheel group",text:"Uncomment the above to allow members of group `wheel` to execute any command (after entering root password)"},"visudo",i.a.createElement("pre",null,i.a.createElement("code",null,"%wheel ALL=(ALL) ALL"))),i.a.createElement(h,{name:"Change to regular user"},"su ",m)),i.a.createElement("h4",null,"Install aurman"),i.a.createElement("ol",null,i.a.createElement(h,null,"curl -L -O https://aur.archlinux.org/cgit/aur.git/snapshot/aurman.tar.gz"),i.a.createElement(h,{name:"Import GnuPG key"},"gpg --recv-keys ","465022E743D71E39"),i.a.createElement(h,{name:"Unpack"},"tar -xvf aurman.tar.gz"),i.a.createElement(h,null,"cd aurman"),i.a.createElement(h,{name:"Compile and install"},"makepkg -si")),g.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",null,"Install important AUR packages"),i.a.createElement("ol",null,i.a.createElement(h,{text:d&&"IMPORTANT: the bootctl update hook is needed to ensure microcode updates"},"aurman -Syu ",g.join(" ")))),i.a.createElement("h4",null,"Install all the good shit"),i.a.createElement("ol",null,i.a.createElement(h,null,"sudo pacman -Syu ",["xorg","docker","openssh","termite"].join(" ")," ...")))},p=function(e){var t=e.wiki,a=e.legend,n=e.name,l=e.options,o=e.value,r=e.onChange,c=function(e){return r(e.target.value)};return i.a.createElement("fieldset",null,i.a.createElement("legend",null,t?i.a.createElement("a",{href:"https://wiki.archlinux.org/index.php/".concat(t)},a):a),Object.values(l).map((function(e){return i.a.createElement("label",{key:e},i.a.createElement("input",{type:"radio",name:n,value:e,checked:e===o,onChange:c})," ".concat(e))})))},g=function(){var e=Object(m.useState)(r.EXT4),t=Object(E.a)(e,2),a=t[0],s=t[1],u=Object(m.useState)(l.AMD),h=Object(E.a)(u,2),g=h[0],f=h[1],b=Object(m.useState)(n.UEFI),w=Object(E.a)(b,2),v=w[0],y=w[1],k=Object(m.useState)(c.LINUX),I=Object(E.a)(k,2),x=I[0],U=I[1],O=Object(m.useState)(o.VIM),F=Object(E.a)(O,2),S=F[0],j=F[1],C=Object(m.useState)("zach"),L=Object(E.a)(C,2),T=L[0],N=L[1],A=Object(m.useState)("ballz-pc"),R=Object(E.a)(A,2),D=R[0],_=R[1],B=Object(m.useState)("/dev/nvme0n1p"),M=Object(E.a)(B,2),P=M[0],z=M[1],V=Object(m.useState)("/dev/nvme0n1p1"),G=Object(E.a)(V,2),X=G[0],W=G[1],K=Object(m.useState)("/dev/nvme0n1p2"),Y=Object(E.a)(K,2),H=Y[0],J=[{label:"Username",name:"username",value:T,setValue:N},{label:"Hostname",name:"hostname",value:D,setValue:_},{label:"Partition Device",name:"partition_device",value:P,setValue:z},{label:"Partition Root",name:"partition_root",value:H,setValue:Y[1]}],Z=v===n.UEFI;return Z&&J.push({label:"Partition Boot",name:"partition_boot",value:X,setValue:W}),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"controls",style:{marginBottom:"2rem"}},i.a.createElement("h2",null,"Settings"),i.a.createElement("ol",{style:{display:"flex",flexWrap:"wrap"}},i.a.createElement("li",null,i.a.createElement(p,{wiki:"Unified_Extensible_Firmware_Interface",legend:"Firwmare",name:"firmware",options:n,value:v,onChange:y})),Z&&i.a.createElement("li",null,i.a.createElement(p,{wiki:"Microcode",legend:"Processor",name:"processor",options:l,value:g,onChange:f})),i.a.createElement("li",null,i.a.createElement(p,{wiki:"Category:Text_editors",legend:"Editor",name:"editor",options:o,value:S,onChange:j})),i.a.createElement("li",null,i.a.createElement(p,{wiki:"File_systems",legend:"File system",name:"file_system",options:r,value:a,onChange:s})),i.a.createElement("li",null,i.a.createElement(p,{wiki:"Kernel",legend:"Kernel",name:"kernel",options:c,value:x,onChange:U}))),i.a.createElement("ol",{style:{display:"flex",flexWrap:"wrap"}},J.map((function(e){var t=e.label,a=e.name,n=e.value,l=e.setValue;return i.a.createElement("li",{key:a},i.a.createElement("label",null,t,i.a.createElement("br",null),i.a.createElement("input",{key:a,name:a,type:"text",value:n,onChange:function(e){return l(e.target.value)}})))})))),i.a.createElement("h1",null,"Installation cheatsheet"),i.a.createElement("div",{className:"App"},i.a.createElement(d,{fileSystem:a,processor:g,firmware:v,editor:S,kernel:x,username:T,hostname:D,partitionDevice:P,partitionBoot:X,partitionRoot:H})))};a(10),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(i.a.createElement((function(){return i.a.createElement(g,null)}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[4,1,2]]]);
//# sourceMappingURL=main.001948cf.chunk.js.map